#include <iostream>

int main() {
  char numbers[10][6][5] = {{{'.', '.', '#', '#', '.'},
                             {'.', '#', '.', '.', '#'},
                             {'.', '#', '.', '.', '#'},
                             {'.', '#', '.', '.', '#'},
                             {'.', '#', '.', '.', '#'},
                             {'.', '.', '#', '#', '.'}},
                            {{'.', '.', '.', '.', '#'},
                             {'.', '.', '.', '#', '#'},
                             {'.', '.', '#', '.', '#'},
                             {'.', '.', '.', '.', '#'},
                             {'.', '.', '.', '.', '#'},
                             {'.', '.', '.', '.', '#'}},
                            {{'.', '.', '#', '#', '.'},
                             {'.', '#', '.', '.', '#'},
                             {'.', '.', '.', '.', '#'},
                             {'.', '.', '.', '#', '.'},
                             {'.', '.', '#', '.', '.'},
                             {'.', '#', '#', '#', '#'}},
                            {{'.', '#', '#', '#', '#'},
                             {'.', '.', '.', '.', '#'},
                             {'.', '.', '.', '#', '.'},
                             {'.', '.', '.', '.', '#'},
                             {'.', '.', '.', '.', '#'},
                             {'.', '#', '#', '#', '.'}},
                            {{'.', '#', '.', '.', '#'},
                             {'.', '#', '.', '.', '#'},
                             {'.', '#', '.', '.', '#'},
                             {'.', '#', '#', '#', '#'},
                             {'.', '.', '.', '.', '#'},
                             {'.', '.', '.', '.', '#'}},
                            {{'.', '#', '#', '#', '#'},
                             {'.', '#', '.', '.', '.'},
                             {'.', '#', '#', '#', '.'},
                             {'.', '.', '.', '.', '#'},
                             {'.', '#', '.', '.', '#'},
                             {'.', '.', '#', '#', '.'}},
                            {{'.', '.', '#', '#', '#'},
                             {'.', '#', '.', '.', '.'},
                             {'.', '#', '#', '#', '.'},
                             {'.', '#', '.', '.', '#'},
                             {'.', '#', '.', '.', '#'},
                             {'.', '.', '#', '#', '.'}},
                            {{'.', '#', '#', '#', '#'},
                             {'.', '.', '.', '.', '#'},
                             {'.', '.', '.', '#', '.'},
                             {'.', '.', '#', '.', '.'},
                             {'.', '.', '#', '.', '.'},
                             {'.', '.', '#', '.', '.'}},
                            {{'.', '.', '#', '#', '.'},
                             {'.', '#', '.', '.', '#'},
                             {'.', '.', '#', '#', '.'},
                             {'.', '#', '.', '.', '#'},
                             {'.', '#', '.', '.', '#'},
                             {'.', '.', '#', '#', '.'}},
                            {{'.', '.', '#', '#', '.'},
                             {'.', '#', '.', '.', '#'},
                             {'.', '#', '.', '.', '#'},
                             {'.', '.', '#', '#', '#'},
                             {'.', '.', '.', '.', '#'},
                             {'.', '#', '#', '#', '.'}}};
  char input[4][6][5];
  for (int i = 0; i < 6; i++) {
    for (int j = 0; j < 5; j++) {
      std::cin >> input[0][i][j];
    }
    for (int j = 0; j < 5; j++) {
      std::cin >> input[1][i][j];
    }
    for (int j = 0; j < 5; j++) {
      std::cin >> input[2][i][j];
    }
    for (int j = 0; j < 5; j++) {
      std::cin >> input[3][i][j];
    }
  }
  int dec_hours = -1;
  int unit_hours = -1;
  int dec_minutes = -1;
  int unit_minutes = -1;
  for (int i = 0; i < 4; i++) {
    int count = 0;
    for (int x = 0; x < 10; x++) {
      bool is_legal = true;
      for (int y = 0; y < 6; y++) {
        for (int z = 0; z < 5; z++) {
          if (numbers[x][y][z] == '.' && input[i][y][z] == '#') {
            is_legal = false;
          }
        }
      }
      if (is_legal) {
        if (i == 0 && x < 3) {
          count++;
          dec_hours = x;
        }
        if (i == 1 && dec_hours * 10 + x < 24) {
          count++;
          unit_hours = x;
        }
        if (i == 2 && dec_hours * 10 + unit_hours < 24 && x < 6) {
          count++;
          dec_minutes = x;
        }
        if (i == 3 && dec_hours * 10 + unit_hours < 24 && dec_minutes + x < 60) {
          count++;
          unit_minutes = x;
        }
      }
    }
    if (count == 0) {
      std::cout << "ERROR";
      return 0;
    }
    if (count > 1) {
      std::cout << "AMBIGUITY";
      return 0;
    }
  }
  std::cout << dec_hours << unit_hours << ":" << dec_minutes << unit_minutes;
}
